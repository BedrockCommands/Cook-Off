// SPDX-License-Identifier: LicenseRef-BCC-PL-v1.0
// Copyright (c) @jeanmajid & Contributors
// Contributors: @jeanmajid @FelixChats
// See LICENSE.md file in the root folder, licenses/BCC-PL-v1.0.md, or https://bedrockcommands.org/legal/bcc-pl-v1.0


{
	"format_version": "1.10.0",
	"animation_controllers": {
		"controller.animation.bcc.cook.third_person": {
			"initial_state": "default",
			"states": {
				"default": {
					"animations": [
						"bcc.cook.item",
						"bcc.cook.movement",
						{
							"look_at_target": "!query.is_sleeping && !query.is_emoting"
						},
						"cape",
						{
							"riding.root": "query.is_riding"
						},
						{
							"riding.arms": "query.is_riding"
						},
						{
							"riding.legs": "query.is_riding"
						},
						"holding",
						{
							"brandish_spear": "variable.is_brandishing_spear"
						},
						{
							"holding_spyglass": "variable.is_holding_spyglass"
						},
						{
							"charging": "query.is_charging"
						},
						{
							"sneaking": "query.is_sneaking && !query.is_sleeping"
						},
						{
							"bob": "!variable.is_holding_spyglass && !variable.is_tooting_goat_horn && !variable.is_using_brush"
						},
						{
							"damage_nearby_mobs": "variable.damage_nearby_mobs"
						},
						{
							"swimming": "variable.swim_amount > 0.0"
						},
						{
							"swimming.legs": "variable.swim_amount > 0.0"
						},
						{
							"crawling": "query.is_crawling"
						},
						{
							"crawling.legs": "query.is_crawling"
						},
						// { // vanilla version
						// 	"use_item_progress": "( variable.use_item_interval_progress > 0.0 ) || ( variable.use_item_startup_progress > 0.0 ) && !variable.is_brandishing_spear && !variable.is_holding_spyglass && !variable.is_tooting_goat_horn && !variable.is_using_brush && !query.is_item_name_any('slot.weapon.mainhand', 'minecraft:bow')"
						// },
						{ // bcc.cook-attempted version
							"use_item_progress": "( variable.use_item_interval_progress > 0.0 ) || ( variable.use_item_startup_progress > 0.0 ) && !variable.is_brandishing_spear && !variable.is_holding_spyglass && !variable.is_tooting_goat_horn && !variable.is_using_brush && !query.is_item_name_any('slot.weapon.mainhand', 'minecraft:bow') && !query.is_item_name_any('slot.weapon.mainhand', 'bcc.cook:fire_extinguisher')"
						},
						{
							"sleeping": "query.is_sleeping && query.is_alive"
						},
						{
							"attack.positions": "variable.attack_time >= 0.0"
						},
						{
							"attack.rotations": "variable.attack_time >= 0.0"
						},
						{
							"shield_block_main_hand": "query.blocking && query.get_equipped_item_name('off_hand') != 'shield' && query.get_equipped_item_name == 'shield'"
						},
						{
							"shield_block_off_hand": "query.blocking && query.get_equipped_item_name('off_hand') == 'shield'"
						},
						{
							"crossbow_controller": "query.get_equipped_item_name == 'crossbow'"
						},
						{
							"third_person_bow_equipped": "query.get_equipped_item_name == 'bow' && (variable.item_use_normalized > 0 && variable.item_use_normalized < 1.0)"
						},
						{
							"tooting_goat_horn": "variable.is_tooting_goat_horn"
						},
						{
							"holding_brush": "query.get_equipped_item_name == 'brush'"
						},
						{
							"brushing": "variable.is_using_brush"
						},
						{
							"holding_heavy_core": "query.is_item_name_any('slot.weapon.mainhand', 'minecraft:heavy_core')"
						}
					]
				}
			}
		}
	}
}
